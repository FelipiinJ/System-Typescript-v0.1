import { TextInputBuilder } from 'discord.js';
import { createRow } from './components.mjs';

function createModalInput(data) {
  return createRow(new TextInputBuilder(data));
}
function createModalFields(data) {
  return Object.entries(data).map(
    ([customId, data2]) => createModalInput(Object.assign({ customId }, data2))
  );
}
function modalFieldsToRecord(fields) {
  const reduceFunction = (data, { customId, value }) => Object.assign(
    data,
    { [customId]: value }
  );
  const modalFields = "fields" in fields ? fields.fields : fields;
  return modalFields.reduce(reduceFunction, {});
}

export { createModalFields, createModalInput, modalFieldsToRecord };
