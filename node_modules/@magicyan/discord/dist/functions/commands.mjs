import { Client } from 'discord.js';

function findCommand(guildOrClient) {
  const commands = guildOrClient instanceof Client ? guildOrClient.application.commands.cache : guildOrClient.commands.cache;
  return {
    byName(name, and = () => true) {
      return commands.find((command) => command.name === name && and(command));
    },
    byId(id) {
      return commands.get(id);
    },
    byFilter(filter) {
      return commands.find(filter);
    }
  };
}

export { findCommand };
