'use strict';

const discord_js = require('discord.js');

function findCommand(guildOrClient) {
  const commands = guildOrClient instanceof discord_js.Client ? guildOrClient.application.commands.cache : guildOrClient.commands.cache;
  return {
    byName(name, and = () => true) {
      return commands.find((command) => command.name === name && and(command));
    },
    byId(id) {
      return commands.get(id);
    },
    byFilter(filter) {
      return commands.find(filter);
    }
  };
}

exports.findCommand = findCommand;
